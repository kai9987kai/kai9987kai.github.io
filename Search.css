/* 
  k9987k Search UI — Ultra-modern “command palette” look
  Fully scoped: will NOT affect anything outside #k9987k-search-root.

  Expected markup classes:
    #k9987k-search-root
      .k9987k-search-wrap (optional)
      form.k9987k-search-form
        input.k9987k-search-input
        button.k9987k-search-btn (optional svg.k9987k-btn-ic)
      ul.k9987k-results
        li.k9987k-result-item
          a.k9987k-result-link
            .k9987k-result-title
            .k9987k-result-meta
      .k9987k-no-results
*/

/* ---------------- Tokens + containment ---------------- */
#k9987k-search-root{
  /* Accent */
  --k-accent: #00b5ad;
  --k-accent2:#3b82f6; /* subtle modern secondary (blue) */

  /* Surfaces */
  --k-bg: #0b0f14;
  --k-surface: rgba(255,255,255,.055);
  --k-surface2: rgba(255,255,255,.085);
  --k-border: rgba(255,255,255,.12);
  --k-border2: rgba(255,255,255,.18);

  /* Text */
  --k-text: rgba(255,255,255,.92);
  --k-muted: rgba(255,255,255,.66);
  --k-dim: rgba(255,255,255,.50);

  /* FX */
  --k-shadow: 0 22px 70px rgba(0,0,0,.42);
  --k-shadow2: 0 12px 34px rgba(0,0,0,.28);
  --k-ring: 0 0 0 3px rgba(0,181,173,.25);
  --k-ring2: 0 0 0 4px rgba(59,130,246,.24);

  /* Geometry */
  --k-radius: 18px;
  --k-radius2: 22px;
  --k-h: 52px;
  --k-gap: 12px;

  /* Type */
  --k-font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";

  font-family: var(--k-font);
  color: var(--k-text);

  isolation: isolate;
  /* Optional: improves perf & prevents weird layout bleed */
  contain: layout paint;
}

@media (prefers-color-scheme: light){
  #k9987k-search-root{
    --k-bg: #f7f9fc;
    --k-surface: rgba(12,18,28,.045);
    --k-surface2: rgba(12,18,28,.070);
    --k-border: rgba(12,18,28,.10);
    --k-border2: rgba(12,18,28,.16);

    --k-text: rgba(12,18,28,.92);
    --k-muted: rgba(12,18,28,.62);
    --k-dim: rgba(12,18,28,.50);

    --k-shadow: 0 18px 60px rgba(12,18,28,.10);
    --k-shadow2: 0 12px 34px rgba(12,18,28,.08);
    --k-ring: 0 0 0 3px rgba(0,181,173,.18);
    --k-ring2: 0 0 0 4px rgba(59,130,246,.16);
  }
}

/* Strictly local box sizing */
#k9987k-search-root :where(*, *::before, *::after){ box-sizing: border-box; }

/* Optional background: add class "k9987k-search--with-bg" to the root */
#k9987k-search-root.k9987k-search--with-bg{
  background:
    radial-gradient(1200px 700px at 18% 12%, rgba(0,181,173,.18), transparent 55%),
    radial-gradient(900px 600px at 82% 22%, rgba(59,130,246,.14), transparent 55%),
    linear-gradient(180deg, var(--k-bg), var(--k-bg));
  padding: 18px;
  border-radius: calc(var(--k-radius2) + 8px);
}

/* Optional wrapper */
#k9987k-search-root .k9987k-search-wrap{
  width: min(920px, 100%);
  margin: 0 auto;
}

/* ---------------- Form: modern command palette ---------------- */
#k9987k-search-root form.k9987k-search-form{
  width: min(700px, 100%);
  margin: 0 auto 16px;

  position: relative;
  display: flex;
  align-items: center;
  gap: 10px;

  padding: 6px;
  border-radius: 999px;

  /* Gradient border without bleeding: background on pseudo + clipping */
  background: transparent;
  box-shadow: var(--k-shadow2);
}

#k9987k-search-root form.k9987k-search-form::before{
  content:"";
  position:absolute;
  inset:0;
  border-radius: 999px;
  padding: 1px;
  background: linear-gradient(135deg,
    rgba(0,181,173,.55),
    rgba(255,255,255,.08),
    rgba(59,130,246,.45)
  );
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;
  pointer-events:none;
}

#k9987k-search-root form.k9987k-search-form{
  /* inner surface */
  background: linear-gradient(180deg, var(--k-surface2), var(--k-surface));
  border: 1px solid var(--k-border);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

#k9987k-search-root input.k9987k-search-input{
  flex: 1;
  min-width: 0;

  height: var(--k-h);
  padding: 0 14px 0 16px;

  border: 0;
  outline: none;
  background: transparent;
  color: var(--k-text);

  font-size: 16px;
  letter-spacing: .12px;

  /* subtle inner glow for modern polish */
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
  border-radius: 999px;
}

#k9987k-search-root input.k9987k-search-input::placeholder{ color: var(--k-dim); }

#k9987k-search-root input.k9987k-search-input:focus-visible{
  box-shadow: var(--k-ring), inset 0 0 0 1px rgba(255,255,255,.06);
}

/* Button: compact, glossy, “app-like” */
#k9987k-search-root button.k9987k-search-btn{
  height: var(--k-h);
  width: 56px;

  border: 0;
  outline: none;
  cursor: pointer;

  position: relative;
  overflow: hidden;

  border-radius: 999px;
  display: grid;
  place-items: center;

  color: #fff;
  background:
    radial-gradient(30px 30px at 30% 30%, rgba(255,255,255,.26), transparent 60%),
    linear-gradient(180deg, var(--k-accent), rgba(0,160,157,1));
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.18),
    inset 0 -10px 18px rgba(0,0,0,.10);
  transition: transform .12s ease, filter .18s ease, box-shadow .18s ease;
}

#k9987k-search-root button.k9987k-search-btn::after{
  /* “shine sweep” on hover */
  content:"";
  position:absolute;
  inset:-40% -60%;
  background: linear-gradient(115deg, transparent 40%, rgba(255,255,255,.22) 50%, transparent 60%);
  transform: translateX(-30%) rotate(10deg);
  opacity: 0;
  transition: opacity .18s ease, transform .38s ease;
  pointer-events:none;
}

#k9987k-search-root button.k9987k-search-btn:hover{
  filter: brightness(1.06) saturate(1.05);
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.22),
    inset 0 -10px 18px rgba(0,0,0,.08),
    0 16px 36px rgba(0,181,173,.18);
}

#k9987k-search-root button.k9987k-search-btn:hover::after{
  opacity: 1;
  transform: translateX(10%) rotate(10deg);
}

#k9987k-search-root button.k9987k-search-btn:active{
  transform: translateY(1px) scale(.99);
  filter: brightness(.99);
}

#k9987k-search-root button.k9987k-search-btn:focus-visible{
  box-shadow: var(--k-ring2),
              inset 0 0 0 1px rgba(255,255,255,.22),
              inset 0 -10px 18px rgba(0,0,0,.08);
}

/* Optional icon */
#k9987k-search-root .k9987k-btn-ic{
  width: 20px;
  height: 20px;
  display: block;
  fill: currentColor;
  opacity: .95;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  #k9987k-search-root *{ transition: none !important; animation: none !important; }
}

/* ---------------- Results: modern “app cards” ---------------- */
#k9987k-search-root ul.k9987k-results{
  list-style: none;
  margin: 0;
  padding: 0;

  display: grid;
  gap: var(--k-gap);

  width: min(820px, 100%);
  margin-inline: auto;
}

#k9987k-search-root li.k9987k-result-item{ margin: 0; padding: 0; }

#k9987k-search-root a.k9987k-result-link{
  position: relative;
  overflow: hidden;

  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  gap: 12px;

  padding: 14px 16px;

  text-decoration: none;
  color: var(--k-text);

  border-radius: var(--k-radius2);
  background:
    radial-gradient(700px 140px at 12% 0%, rgba(0,181,173,.12), transparent 62%),
    linear-gradient(180deg, var(--k-surface2), var(--k-surface));
  border: 1px solid var(--k-border);

  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);

  box-shadow: 0 0 0 rgba(0,0,0,0);
  transform: translateY(0);
  transition: transform .18s ease, box-shadow .22s ease, border-color .22s ease, filter .22s ease;
}

#k9987k-search-root a.k9987k-result-link::before{
  /* subtle top gloss */
  content:"";
  position:absolute;
  inset:0;
  background: linear-gradient(180deg, rgba(255,255,255,.08), transparent 45%);
  opacity: .65;
  pointer-events:none;
}

#k9987k-search-root a.k9987k-result-link::after{
  /* right-side “arrow hint” without changing HTML */
  content:"↗";
  position:absolute;
  right: 14px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 14px;
  color: rgba(255,255,255,.55);
  opacity: 0;
  transition: opacity .18s ease, transform .18s ease;
  pointer-events:none;
}

@media (prefers-color-scheme: light){
  #k9987k-search-root a.k9987k-result-link::after{
    color: rgba(12,18,28,.55);
  }
}

#k9987k-search-root a.k9987k-result-link:hover{
  transform: translateY(-4px);
  border-color: rgba(0,181,173,.34);
  box-shadow: var(--k-shadow);
  filter: saturate(1.02);
}

#k9987k-search-root a.k9987k-result-link:hover::after{
  opacity: 1;
  transform: translateY(-50%) translateX(2px);
}

#k9987k-search-root a.k9987k-result-link:active{
  transform: translateY(-2px);
}

#k9987k-search-root a.k9987k-result-link:focus-visible{
  outline: none;
  box-shadow: var(--k-ring), var(--k-shadow2);
  border-color: rgba(0,181,173,.48);
}

/* Title: allow 2-line clamp for modern layouts */
#k9987k-search-root .k9987k-result-title{
  font-size: 16px;
  font-weight: 720;
  letter-spacing: .10px;
  line-height: 1.25;

  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

#k9987k-search-root .k9987k-result-meta{
  justify-self: end;
  white-space: nowrap;

  font-size: 12.5px;
  font-weight: 600;
  letter-spacing: .10px;

  color: var(--k-muted);

  padding: 7px 10px;
  border-radius: 999px;

  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.11);
}

@media (prefers-color-scheme: light){
  #k9987k-search-root .k9987k-result-meta{
    background: rgba(12,18,28,.04);
    border-color: rgba(12,18,28,.10);
  }
}

/* Highlight */
#k9987k-search-root mark.k9987k-mark,
#k9987k-search-root mark{
  background: rgba(0,181,173,.18);
  color: inherit;
  padding: 0 .2em;
  border-radius: .42em;
}

/* No results */
#k9987k-search-root .k9987k-no-results{
  margin-top: 12px;
  text-align: center;
  color: var(--k-muted);
  font-size: 14px;
  display: none;
}

/* Mobile layout */
@media (max-width: 560px){
  #k9987k-search-root form.k9987k-search-form{ width: 100%; }
  #k9987k-search-root button.k9987k-search-btn{ width: 54px; }
  #k9987k-search-root a.k9987k-result-link{
    grid-template-columns: 1fr;
    gap: 10px;
  }
  #k9987k-search-root .k9987k-result-meta{
    justify-self: start;
    width: fit-content;
  }
  #k9987k-search-root a.k9987k-result-link::after{
    display:none; /* less clutter on mobile */
  }
}
