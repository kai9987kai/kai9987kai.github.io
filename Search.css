/*
k9987k 2026 Sci-Fi Search UI — “Singularity” Edition (CSS Only)
Status: ISOLATED // HOLOGRAPHIC // REACTIVE
Note: This CSS is strictly scoped to #k9987k-search-root to prevent external interference.
*/

/* ==========================================================================

THE LOCKDOWN (Strict Isolation & Reset)
========================================================================== */

/*
Root Isolation:
Creates a new stacking context and resets inheritance.
"contain" prevents layout thrashing from affecting the rest of the page.
*/
#k9987k-search-root {
all: initial !important;
isolation: isolate !important;
contain: content style !important;
display: block !important;
width: 100% !important;
max-width: 100% !important;

/* Enforce local font stack to prevent site font leaking */
font-family: 'SF Mono', 'Fira Code', 'Roboto Mono', Menlo, Consolas, monospace !important;
-webkit-font-smoothing: antialiased !important;
-moz-osx-font-smoothing: grayscale !important;
text-size-adjust: 100% !important;
line-height: 1.5 !important;
}

/*
The Nuclear Reset:
Selects ALL internal elements (form, input, etc) and nukes their styles.
We use :where() to lower internal specificity, but prefix with ID to beat external CSS.
*/
#k9987k-search-root :where(
form.k9987k-search-form,
input.k9987k-search-input,
button.k9987k-search-btn,
ul.k9987k-results,
li.k9987k-result-item,
a.k9987k-result-link,
div, span, svg, mark
) {
all: unset !important;
box-sizing: border-box !important;
display: block !important;
margin: 0 !important;
padding: 0 !important;
border: 0 !important;
outline: 0 !important;
background: transparent !important;
color: inherit !important;
font-family: inherit !important;
font-size: 100% !important;
line-height: inherit !important;
transform-style: preserve-3d !important;
}

/* Re-enable standard interaction cursors */
#k9987k-search-root :where(a, button, input) {
cursor: pointer !important;
}
#k9987k-search-root :where(input) {
cursor: text !important;
}

/* ==========================================================================
2. THEME MATRIX (Variables)
========================================================================== */

#k9987k-search-root {
/* -- Neon Palette -- */
--k99-neon-cyan: #00f0ff;
--k99-neon-pink: #ff003c;
--k99-neon-violet: #bc13fe;
--k99-plasma: #ffffff;

/* -- Surfaces -- */
--k99-glass-heavy: rgba(10, 11, 16, 0.85);
--k99-glass-light: rgba(255, 255, 255, 0.03);
--k99-border-dim: rgba(255, 255, 255, 0.1);
--k99-border-lit: rgba(255, 255, 255, 0.25);

/* -- Geometry -- */
--k99-h-bar: 68px;
--k99-rad-lg: 24px;
--k99-rad-sm: 12px;

/* -- Motion -- */
--k99-ease-elastic: cubic-bezier(0.18, 0.89, 0.32, 1.28);
--k99-ease-smooth: cubic-bezier(0.22, 1, 0.36, 1);

color: rgba(255, 255, 255, 0.92) !important;
}

/* ==========================================================================
3. THE SEARCH BAR (The "Portal")
========================================================================== */

#k9987k-search-root form.k9987k-search-form {
position: relative !important;
width: min(840px, 100%) !important;
height: var(--k99-h-bar) !important;
margin: 0 auto 30px !important;

display: flex !important;
align-items: center !important;
gap: 16px !important;
padding: 8px !important;

border-radius: var(--k99-rad-lg) !important;
background: var(--k99-glass-heavy) !important;

/* Deep Glass Blur */
backdrop-filter: blur(24px) saturate(140%) !important;
-webkit-backdrop-filter: blur(24px) saturate(140%) !important;

/* Multi-layered shadows for depth */
box-shadow:
0 20px 50px -10px rgba(0, 0, 0, 0.6),
inset 0 1px 0 rgba(255, 255, 255, 0.12),
inset 0 0 40px rgba(0, 240, 255, 0.03) !important;

border: 1px solid var(--k99-border-dim) !important;
transition: transform 0.4s var(--k99-ease-smooth), box-shadow 0.4s var(--k99-ease-smooth) !important;
z-index: 10 !important;
}

/* Hover: Levitation */
#k9987k-search-root form.k9987k-search-form:hover {
transform: translateY(-2px) !important;
box-shadow:
0 30px 60px -10px rgba(0, 0, 0, 0.7),
inset 0 1px 0 rgba(255, 255, 255, 0.2),
0 0 20px rgba(0, 240, 255, 0.1) !important;
border-color: var(--k99-border-lit) !important;
}

/* Focus: Activation */
#k9987k-search-root form.k9987k-search-form:focus-within {
border-color: var(--k99-neon-cyan) !important;
box-shadow:
0 40px 80px -20px rgba(0, 0, 0, 0.8),
0 0 0 2px rgba(0, 240, 255, 0.15),
0 0 30px rgba(0, 240, 255, 0.2) !important;
}

/*
Input Field
*/
#k9987k-search-root input.k9987k-search-input {
flex: 1 !important;
height: 100% !important;
padding: 0 0 0 24px !important;

font-size: 20px !important;
letter-spacing: -0.5px !important;
color: #fff !important;
text-shadow: 0 0 15px rgba(255, 255, 255, 0.3) !important;

caret-color: var(--k99-neon-cyan) !important;
background: transparent !important;
}

#k9987k-search-root input.k9987k-search-input::placeholder {
color: rgba(255, 255, 255, 0.35) !important;
font-size: 16px !important;
letter-spacing: 2px !important;
text-transform: uppercase !important;
}

/*
Search Button (The "Reactor Core")
*/
#k9987k-search-root button.k9987k-search-btn {
position: relative !important;
height: 100% !important;
aspect-ratio: 1 / 1 !important;
border-radius: calc(var(--k99-rad-lg) - 4px) !important;

display: grid !important;
place-items: center !important;
overflow: hidden !important;

/* Gradient mesh background */
background: radial-gradient(circle at center, rgba(0,240,255,0.15) 0%, transparent 70%),
linear-gradient(180deg, rgba(255,255,255,0.05), transparent) !important;
border: 1px solid var(--k99-border-dim) !important;

transition: all 0.3s var(--k99-ease-smooth) !important;
}

/* Button Icon */
#k9987k-search-root button.k9987k-search-btn svg.k9987k-btn-ic {
width: 24px !important;
height: 24px !important;
fill: var(--k99-neon-cyan) !important;
filter: drop-shadow(0 0 8px var(--k99-neon-cyan)) !important;
transition: transform 0.4s var(--k99-ease-elastic) !important;
}

/* Button Interactions */
#k9987k-search-root button.k9987k-search-btn:hover {
background: rgba(0, 240, 255, 0.1) !important;
border-color: var(--k99-neon-cyan) !important;
box-shadow: 0 0 30px rgba(0, 240, 255, 0.25) !important;
}

#k9987k-search-root button.k9987k-search-btn:hover svg.k9987k-btn-ic {
transform: scale(1.15) rotate(-10deg) !important;
}

#k9987k-search-root button.k9987k-search-btn:active {
transform: scale(0.92) !important;
}

/* ==========================================================================
4. RESULTS GRID (Holographic Data Cards)
========================================================================== */

#k9987k-search-root ul.k9987k-results {
display: grid !important;
grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)) !important;
gap: 16px !important;
width: min(100%, 1200px) !important;
margin: 0 auto !important;
perspective: 2000px !important; /* Deep 3D space */
}

#k9987k-search-root li.k9987k-result-item {
/* Animation entry */
opacity: 0 !important;
animation: k99-materialize 0.6s var(--k99-ease-smooth) forwards !important;
}

/* Staggered entry delay loop */
#k9987k-search-root li.k9987k-result-item:nth-child(1) { animation-delay: 0.05s !important; }
#k9987k-search-root li.k9987k-result-item:nth-child(2) { animation-delay: 0.10s !important; }
#k9987k-search-root li.k9987k-result-item:nth-child(3) { animation-delay: 0.15s !important; }
#k9987k-search-root li.k9987k-result-item:nth-child(4) { animation-delay: 0.20s !important; }
#k9987k-search-root li.k9987k-result-item:nth-child(n+5){ animation-delay: 0.25s !important; }

/* The Card Link */
#k9987k-search-root a.k9987k-result-link {
position: relative !important;
display: flex !important;
flex-direction: column !important;
justify-content: center !important;

height: 100% !important;
min-height: 140px !important;
padding: 24px !important;

background: linear-gradient(165deg, rgba(20,20,25,0.7) 0%, rgba(5,5,10,0.9) 100%) !important;
border: 1px solid var(--k99-border-dim) !important;
border-radius: var(--k99-rad-sm) !important;

transition: all 0.3s var(--k99-ease-smooth) !important;
transform: translateZ(0) !important;
overflow: hidden !important;
}

/* Card: Holographic Sheen Overlay */
#k9987k-search-root a.k9987k-result-link::before {
content: "" !important;
position: absolute !important;
inset: 0 !important;

/* A moving light bar */
background: linear-gradient(
115deg,
transparent 40%,
rgba(255,255,255,0.05) 45%,
rgba(255,255,255,0.1) 50%,
rgba(255,255,255,0.05) 55%,
transparent 60%
) !important;
background-size: 250% 100% !important;
background-position: 100% 0 !important;

pointer-events: none !important;
transition: background-position 0.6s ease !important;
z-index: 1 !important;
}

/* Card Hover State: Glitch & Lift */
#k9987k-search-root a.k9987k-result-link:hover {
transform: translateY(-6px) scale(1.02) !important;
border-color: rgba(255, 255, 255, 0.4) !important;
box-shadow: 0 20px 40px -10px rgba(0,0,0,0.8) !important;
z-index: 5 !important;
}

#k9987k-search-root a.k9987k-result-link:hover::before {
background-position: 0% 0 !important; /* Slide the sheen */
}

/*
Content Styling
*/

/* Title */
#k9987k-search-root .k9987k-result-title {
position: relative !important;
z-index: 2 !important;
font-size: 18px !important;
font-weight: 600 !important;
color: #fff !important;
margin-bottom: 8px !important;

/* Text overflow handling */
display: -webkit-box !important;
-webkit-line-clamp: 2 !important;
-webkit-box-orient: vertical !important;
overflow: hidden !important;
}

/* Meta Data / Badge */
#k9987k-search-root .k9987k-result-meta {
position: relative !important;
z-index: 2 !important;
align-self: flex-start !important;

font-size: 11px !important;
font-weight: 700 !important;
letter-spacing: 1px !important;
text-transform: uppercase !important;

color: var(--k99-neon-cyan) !important;
padding: 4px 8px !important;
border: 1px solid rgba(0, 240, 255, 0.2) !important;
border-radius: 4px !important;
background: rgba(0, 240, 255, 0.05) !important;
}

#k9987k-search-root a.k9987k-result-link:hover .k9987k-result-meta {
background: var(--k99-neon-cyan) !important;
color: #000 !important;
box-shadow: 0 0 15px var(--k99-neon-cyan) !important;
}

/* Highlight Matches */
#k9987k-search-root mark {
background: transparent !important;
color: var(--k99-neon-pink) !important;
text-shadow: 0 0 10px rgba(255, 0, 60, 0.6) !important;
font-weight: bold !important;
}

/* "No Results" State */
#k9987k-search-root .k9987k-no-results {
text-align: center !important;
padding: 60px 0 !important;
color: rgba(255, 255, 255, 0.4) !important;
font-size: 14px !important;
letter-spacing: 2px !important;
text-transform: uppercase !important;

/* Dotted background pattern */
background-image: radial-gradient(rgba(255,255,255,0.1) 1px, transparent 1px) !important;
background-size: 20px 20px !important;
opacity: 0.6 !important;
}

/* ==========================================================================
5. DEEP ANIMATIONS
========================================================================== */

@keyframes k99-materialize {
0% {
opacity: 0 !important;
transform: translateY(30px) scale(0.95) rotateX(10deg) !important;
filter: blur(10px) !important;
}
100% {
opacity: 1 !important;
transform: translateY(0) scale(1) rotateX(0) !important;
filter: blur(0) !important;
}
}

/* Optional: Reduced Motion Override */
@media (prefers-reduced-motion: reduce) {
#k9987k-search-root *,
#k9987k-search-root *::before,
#k9987k-search-root *::after {
animation: none !important;
transition: none !important;
transform: none !important;
}
}
