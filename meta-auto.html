<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>My Site</title>
  <script src="common.js"></script>
</head>
<body>
  <header id="header"></header>
  <h1>Welcome to my site!</h1>
  <p>This is a static site.</p>

  <script>
    // Define the standard meta data and search/description
    var standardMeta = {
      "description": "A page of the kai9987kai.co.uk site",
      "keywords": "site, static, HTML, CSS, JavaScript, kai9987kai"
    };
    var standardSearch = "This is my site. ";

    // Get the current meta data and search/description
    var metaTags = document.getElementsByTagName("meta");
    var currentMeta = {};
    for (var i = 0; i < metaTags.length; i++) {
      var tag = metaTags[i];
      if (tag.name && tag.content) {
        currentMeta[tag.name] = tag.content;
      }
    }
    var currentSearch = document.querySelector('meta[name="description"]').content || "";

    // Apply the standard meta data and search/description to pages that don't have them
    if (!currentMeta["description"]) {
      var metaDescription = document.createElement("meta");
      metaDescription.setAttribute("name", "description");
      metaDescription.setAttribute("content", standardMeta["description"]);
      document.head.appendChild(metaDescription);
    }
    if (!currentMeta["keywords"]) {
      var metaKeywords = document.createElement("meta");
      metaKeywords.setAttribute("name", "keywords");
      metaKeywords.setAttribute("content", standardMeta["keywords"]);
      document.head.appendChild(metaKeywords);
    }
    if (!currentSearch) {
      var metaSearch = document.createElement("meta");
      metaSearch.setAttribute("name", "description");
      metaSearch.setAttribute("content", standardSearch);
      document.head.appendChild(metaSearch);
    }
  </script>
</body>
</html>
